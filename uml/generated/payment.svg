<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="230.9248px" preserveAspectRatio="none" style="width:1417px;height:230px;" version="1.1" viewBox="0 0 1417 230" width="1417.008px" zoomAndPan="magnify"><defs><filter height="300%" id="fc8brmhkax5ff" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.3386944181646168"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.6773888363292335" dy="2.6773888363292335" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="221.3238" style="stroke: #A80036; stroke-width: 0.6693472090823084;" width="85.0071" x="9.3709" y="2.6774"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40.1608" x="31.794" y="10.7543">External</text><rect fill="#DDDDDD" height="221.3238" style="stroke: #A80036; stroke-width: 0.6693472090823084;" width="641.904" x="109.1036" y="2.6774"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103.0795" x="378.5158" y="10.7543">ProfitPlanner service</text><rect fill="#DDDDDD" height="221.3238" style="stroke: #A80036; stroke-width: 0.6693472090823084;" width="161.982" x="765.7332" y="2.6774"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80.3217" x="806.5634" y="10.7543">Terminal service</text><rect fill="#DDDDDD" height="221.3238" style="stroke: #A80036; stroke-width: 0.6693472090823084;" width="360.7781" x="942.4409" y="2.6774"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141.9016" x="1051.8791" y="10.7543">PrepaidCardProvider service</text><rect fill="#DDDDDD" height="221.3238" style="stroke: #A80036; stroke-width: 0.6693472090823084;" width="91.7006" x="1317.9447" y="2.6774"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87.6845" x="1319.9527" y="10.7543">Cardo application</text><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="51.5397" x2="51.5397" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="169.3448" x2="169.3448" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="322.6254" x2="322.6254" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="511.3813" x2="511.3813" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="679.3874" x2="679.3874" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="846.7242" x2="846.7242" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="1030.7947" x2="1030.7947" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="1211.5184" x2="1211.5184" y1="39.1097" y2="198.3673"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084; stroke-dasharray: 5.0,5.0;" x1="1363.7949" x2="1363.7949" y1="39.1097" y2="198.3673"/><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="50.201" x="25.4352" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="40.8302" x="30.1206" y="28.8676">BestPlan</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="50.201" x="25.4352" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="40.8302" x="30.1206" y="211.0816">BestPlan</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="86.3458" x="125.1679" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="76.9749" x="129.8534" y="28.8676">handle PlanProfit</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="86.3458" x="125.1679" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="76.9749" x="129.8534" y="211.0816">handle PlanProfit</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="147.9257" x="247.6585" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="138.5549" x="252.3439" y="28.8676">handle PrepaidCardCalculated</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="147.9257" x="247.6585" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="138.5549" x="252.3439" y="211.0816">handle PrepaidCardCalculated</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="156.6272" x="431.7289" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="147.2564" x="436.4144" y="28.8676">handle TerminalBestPriceFound</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="156.6272" x="431.7289" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="147.2564" x="436.4144" y="211.0816">handle TerminalBestPriceFound</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="107.7649" x="624.5009" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="98.394" x="629.1864" y="28.8676">handle DataReceived</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="107.7649" x="624.5009" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="98.394" x="629.1864" y="211.0816">handle DataReceived</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="127.176" x="781.7975" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="117.8051" x="786.483" y="28.8676">handle TerminalBestPrice</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="127.176" x="781.7975" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="117.8051" x="786.483" y="211.0816">handle TerminalBestPrice</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="141.9016" x="958.5052" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="132.5307" x="963.1906" y="28.8676">handle CalculatePrepaidCard</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="141.9016" x="958.5052" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="132.5307" x="963.1906" y="211.0816">handle CalculatePrepaidCard</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="147.9257" x="1136.5516" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="138.5549" x="1141.237" y="28.8676">handle CalculatedPrepaidCard</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="147.9257" x="1136.5516" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="138.5549" x="1141.237" y="211.0816">handle CalculatedPrepaidCard</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="22.7578" x="1351.0773" y="15.4839"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="13.3869" x="1355.7628" y="28.8676">api</text><rect fill="#FEFECE" filter="url(#fc8brmhkax5ff)" height="20.2791" style="stroke: #A80036; stroke-width: 1.0040208136234625;" width="22.7578" x="1351.0773" y="197.698"/><text fill="#000000" font-family="sans-serif" font-size="9.3709" lengthAdjust="spacingAndGlyphs" textLength="13.3869" x="1355.7628" y="211.0816">api</text><polygon fill="#A80036" points="161.6474,47.1419,168.3408,49.8193,161.6474,52.4967,164.3247,49.8193" style="stroke: #A80036; stroke-width: 0.6693472090823084;"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084;" x1="51.8744" x2="165.6634" y1="49.8193" y2="49.8193"/><polygon fill="#A80036" points="838.6921,66.6419,845.3855,69.3193,838.6921,71.9967,841.3694,69.3193" style="stroke: #A80036; stroke-width: 0.6693472090823084;"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084;" x1="169.6795" x2="842.7081" y1="69.3193" y2="69.3193"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="76.9749" x="174.3649" y="65.9284">TerminalBestPrice</text><polygon fill="#0000FF" points="518.7441,86.1418,512.0506,88.8192,518.7441,91.4966,516.0667,88.8192" style="stroke: #0000FF; stroke-width: 0.6693472090823084;"/><line style="stroke: #0000FF; stroke-width: 0.6693472090823084; stroke-dasharray: 2.0,2.0;" x1="514.728" x2="846.0549" y1="88.8192" y2="88.8192"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="103.0795" x="522.7602" y="85.4284">TerminalBestPriceFound</text><polygon fill="#A80036" points="1022.7625,105.6418,1029.456,108.3192,1022.7625,110.9966,1025.4399,108.3192" style="stroke: #A80036; stroke-width: 0.6693472090823084;"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084;" x1="169.6795" x2="1026.7786" y1="108.3192" y2="108.3192"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="91.7006" x="174.3649" y="104.9283">CalculatePrepaidCard</text><polygon fill="#A80036" points="1355.7628,125.1418,1362.4562,127.8192,1355.7628,130.4966,1358.4402,127.8192" style="stroke: #A80036; stroke-width: 0.6693472090823084;"/><line style="stroke: #A80036; stroke-width: 0.6693472090823084;" x1="1030.7947" x2="1359.7789" y1="127.8192" y2="127.8192"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="74.2975" x="1035.4801" y="124.4283">FindPrepaidCards</text><polygon fill="#0000FF" points="1219.2159,144.6417,1212.5225,147.3191,1219.2159,149.9965,1216.5386,147.3191" style="stroke: #0000FF; stroke-width: 0.6693472090823084;"/><line style="stroke: #0000FF; stroke-width: 0.6693472090823084; stroke-dasharray: 2.0,2.0;" x1="1215.1999" x2="1363.1256" y1="147.3191" y2="147.3191"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="97.0553" x="1223.232" y="143.9283">CalculatedPrepaidCard</text><polygon fill="#0000FF" points="330.3228,164.1417,323.6294,166.8191,330.3228,169.4965,327.6455,166.8191" style="stroke: #0000FF; stroke-width: 0.6693472090823084;"/><line style="stroke: #0000FF; stroke-width: 0.6693472090823084; stroke-dasharray: 2.0,2.0;" x1="326.3068" x2="1211.1838" y1="166.8191" y2="166.8191"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="97.0553" x="334.3389" y="163.4282">PrepaidCardCalculated</text><polygon fill="#0000FF" points="59.2372,183.6417,52.5438,186.3191,59.2372,188.9965,56.5598,186.3191" style="stroke: #0000FF; stroke-width: 0.6693472090823084;"/><line style="stroke: #0000FF; stroke-width: 0.6693472090823084; stroke-dasharray: 2.0,2.0;" x1="55.2211" x2="679.0527" y1="186.3191" y2="186.3191"/><text fill="#000000" font-family="sans-serif" font-size="8.7015" lengthAdjust="spacingAndGlyphs" textLength="62.9186" x="63.2533" y="182.9282">PlanCalculated</text><!--
@startuml

skinparam ParticipantPadding 20
skinparam BoxPadding 10

scale max 1415 width

box "External"
participant "BestPlan"
end box

box "ProfitPlanner service"
participant "handle PlanProfit"
participant "handle PrepaidCardCalculated"
participant "handle TerminalBestPriceFound"
participant "handle DataReceived"
end box

box "Terminal service"
participant "handle TerminalBestPrice"
end box

box "PrepaidCardProvider service"
participant "handle CalculatePrepaidCard"
participant "handle CalculatedPrepaidCard"
end box

box "Cardo application"
participant "api"
end box


"BestPlan" -> "handle PlanProfit"

"handle PlanProfit" -> "handle TerminalBestPrice" : TerminalBestPrice
"handle TerminalBestPrice" - -[#0000FF]> "handle TerminalBestPriceFound" : TerminalBestPriceFound

"handle PlanProfit" -> "handle CalculatePrepaidCard" : CalculatePrepaidCard


"handle CalculatePrepaidCard" -> "api" : FindPrepaidCards
"api" - -[#0000FF]> "handle CalculatedPrepaidCard" : CalculatedPrepaidCard


"handle CalculatedPrepaidCard" - -[#0000FF]> "handle PrepaidCardCalculated" : PrepaidCardCalculated
"handle DataReceived" - -[#0000FF]> "BestPlan" : PlanCalculated
@enduml

PlantUML version 1.2019.01beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>